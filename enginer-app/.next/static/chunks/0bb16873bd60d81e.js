(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85229,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(38938);function s({onClose:e,editingItem:s,onUpdate:n}){let{addItem:a,user:l}=(0,o.useAuth)(),[i,d]=(0,r.useState)({assetId:s?.assetId||"",name:s?.name||"",machineName:s?.machineName||"",category:s?.category||"Mesin",brand:s?.brand||"",model:s?.model||"",serialNumber:s?.serialNumber||"",assetTag:s?.assetTag||"",quantity:s?.quantity||1,location:s?.location||"",description:s?.description||"",latitude:s?.latitude||-6.2088,longitude:s?.longitude||106.8456,statusMesin:s?.statusMesin||"Normal",tingkatPrioritas:s?.tingkatPrioritas||"Medium",kondisiFisik:s?.kondisiFisik||"Bagus",jamOperasional:s?.jamOperasional||"",photos:s?.photos||[]});return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-border",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-foreground mb-6",children:s?"Edit Item":"Form Tambah Item"}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s&&n?n(s.id,i):a({...i,createdBy:l?.id||"",quantity:Number.parseInt(i.quantity.toString()),latitude:Number.parseFloat(i.latitude.toString()),longitude:Number.parseFloat(i.longitude.toString())}),e()},className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-foreground mb-2",children:"Identitas Item"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-b pb-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"ID Barang / Kode Aset"}),(0,t.jsx)("input",{type:"text",value:i.assetId,onChange:e=>d({...i,assetId:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Nama Barang / Nama Mesin"}),(0,t.jsx)("input",{type:"text",value:i.name,onChange:e=>d({...i,name:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Nama Mesin (Opsional)"}),(0,t.jsx)("input",{type:"text",value:i.machineName,onChange:e=>d({...i,machineName:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Kategori"}),(0,t.jsxs)("select",{value:i.category,onChange:e=>d({...i,category:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"Mesin",children:"Mesin"}),(0,t.jsx)("option",{value:"Tools",children:"Tools"}),(0,t.jsx)("option",{value:"Elektronik",children:"Elektronik"}),(0,t.jsx)("option",{value:"Safety Equipment",children:"Safety Equipment"}),(0,t.jsx)("option",{value:"Lainnya",children:"Lainnya"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Brand / Merk"}),(0,t.jsx)("input",{type:"text",value:i.brand,onChange:e=>d({...i,brand:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Model / Tipe"}),(0,t.jsx)("input",{type:"text",value:i.model,onChange:e=>d({...i,model:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Nomor Seri (Serial Number)"}),(0,t.jsx)("input",{type:"text",value:i.serialNumber,onChange:e=>d({...i,serialNumber:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Nomor Inventaris / Asset Tag"}),(0,t.jsx)("input",{type:"text",value:i.assetTag,onChange:e=>d({...i,assetTag:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Kuantitas"}),(0,t.jsx)("input",{type:"number",value:void 0===i.quantity||Number.isNaN(i.quantity)?"":i.quantity,onChange:e=>{let t=e.target.value;d({...i,quantity:""===t?"":Number.parseInt(t)})},className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",min:"1"})]})]}),(0,t.jsx)("h2",{className:"text-lg font-bold text-foreground mb-2",children:"Foto Item"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t=new FileReader;t.onload=e=>{e.target?.result&&d(t=>({...t,photos:[...t.photos,e.target.result]}))},t.readAsDataURL(e)})},className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),i.photos.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:i.photos.map((e,r)=>(0,t.jsx)("img",{src:e,alt:`Foto ${r+1}`,className:"w-20 h-20 object-cover rounded-lg border border-border"},r))})]}),(0,t.jsx)("h2",{className:"text-lg font-bold text-foreground mb-2",children:"Kondisi Item"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Status Mesin"}),(0,t.jsxs)("select",{value:i.statusMesin,onChange:e=>d({...i,statusMesin:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"Normal",children:"Normal"}),(0,t.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,t.jsx)("option",{value:"Rusak",children:"Rusak"}),(0,t.jsx)("option",{value:"Tidak Aktif",children:"Tidak Aktif"}),(0,t.jsx)("option",{value:"Standby",children:"Standby"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Tingkat Prioritas"}),(0,t.jsxs)("select",{value:i.tingkatPrioritas,onChange:e=>d({...i,tingkatPrioritas:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"Low",children:"Low"}),(0,t.jsx)("option",{value:"Medium",children:"Medium"}),(0,t.jsx)("option",{value:"High",children:"High"}),(0,t.jsx)("option",{value:"Critical",children:"Critical"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Kondisi Fisik"}),(0,t.jsxs)("select",{value:i.kondisiFisik,onChange:e=>d({...i,kondisiFisik:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"Bagus",children:"Bagus"}),(0,t.jsx)("option",{value:"Sedang",children:"Sedang"}),(0,t.jsx)("option",{value:"Buruk",children:"Buruk"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Jam Operasional Total (opsional)"}),(0,t.jsx)("input",{type:"number",value:i.jamOperasional,onChange:e=>d({...i,jamOperasional:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",min:"0"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Lokasi"}),(0,t.jsx)("input",{type:"text",value:i.location,onChange:e=>d({...i,location:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Deskripsi"}),(0,t.jsx)("textarea",{value:i.description,onChange:e=>d({...i,description:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Latitude"}),(0,t.jsx)("input",{type:"number",value:i.latitude,onChange:e=>d({...i,latitude:Number.parseFloat(e.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",step:"0.0001"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Longitude"}),(0,t.jsx)("input",{type:"number",value:i.longitude,onChange:e=>d({...i,longitude:Number.parseFloat(e.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",step:"0.0001"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-indigo-600 to-violet-600 text-white py-2 rounded-lg hover:shadow-lg hover:shadow-indigo-200 transition-all font-semibold",children:s?"Perbarui":"Simpan"}),(0,t.jsx)("button",{type:"button",onClick:e,className:"flex-1 bg-muted text-foreground py-2 rounded-lg hover:bg-muted/80 transition-colors font-semibold",children:"Batal"})]})]})]})}e.s(["default",()=>s])},62805,53817,22642,e=>{"use strict";var t=e.i(71645);let r=t.createContext(null);function o(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let s of r)if(!t.hasOwnProperty(s)||!o(e[s],t[s]))return!1;return!0}return!1}function s(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function n(e,t){let r=t.viewState||t,s={};return"longitude"in r&&"latitude"in r&&(r.longitude!==e.center.lng||r.latitude!==e.center.lat)&&(s.center=new e.center.constructor(r.longitude,r.latitude)),"zoom"in r&&r.zoom!==e.zoom&&(s.zoom=r.zoom),"bearing"in r&&r.bearing!==e.bearing&&(s.bearing=r.bearing),"pitch"in r&&r.pitch!==e.pitch&&(s.pitch=r.pitch),r.padding&&e.padding&&!o(r.padding,e.padding)&&(s.padding=r.padding),s}let a=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function l(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let r of e.layers)t[r.id]=r;let r=e.layers.map(e=>{let r=null;"interactive"in e&&(r=Object.assign({},e),delete r.interactive);let o=t[e.ref];if(o)for(let t of(r=r||Object.assign({},e),delete r.ref,a))t in o&&(r[t]=o[t]);return r||e});return{...e,layers:r}}let i={version:8,sources:{},layers:[]},d={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},u={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},c={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},m=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],p=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class g{constructor(e,t,r){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=e=>{let t=this.props[c[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onCameraEvent=e=>{if(this._internalUpdate)return;e.viewState=this._propsedCameraUpdate||s(this._map.transform);let t=this.props[u[e.type]];t&&t(e)},this._onCameraUpdate=e=>this._internalUpdate?e:(this._propsedCameraUpdate=s(e),n(e,this.props)),this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[d[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._MapClass=e,this.props=t,this._initialize(r)}get map(){return this._map}setProps(e){let t=this.props;this.props=e;let r=this._updateSettings(e,t),o=this._updateSize(e),s=this._updateViewState(e);this._updateStyle(e,t),this._updateStyleComponents(e),this._updateHandlers(e,t),(r||o||s&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let r=g.savedMaps.pop();if(!r)return null;let o=r.map,s=o.getContainer();for(t.className=s.className;s.childNodes.length>0;)t.appendChild(s.childNodes[0]);o._container=t;let n=o._resizeObserver;n&&(n.disconnect(),n.observe(t)),r.setProps({...e,styleDiffing:!1}),o.resize();let{initialViewState:a}=e;return a&&(a.bounds?o.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):r._updateViewState(a)),o.isStyleLoaded()?o.fire("load"):o.once("style.load",()=>o.fire("load")),o._update(),r}_initialize(e){let{props:t}=this,{mapStyle:r=i}=t,o={...t,...t.initialViewState,container:e,style:l(r)},s=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let n=new this._MapClass(o);for(let e in s.padding&&n.setPadding(s.padding),t.cursor&&(n.getCanvas().style.cursor=t.cursor),n.transformCameraUpdate=this._onCameraUpdate,n.on("style.load",()=>{this._styleComponents={light:n.getLight(),sky:n.getSky(),projection:n.getProjection?.(),terrain:n.getTerrain()},this._updateStyleComponents(this.props)}),n.on("sourcedata",()=>{this._updateStyleComponents(this.props)}),d)n.on(e,this._onPointerEvent);for(let e in u)n.on(e,this._onCameraEvent);for(let e in c)n.on(e,this._onEvent);this._map=n}recycle(){let e=this.map.getContainer().querySelector("[mapboxgl-children]");e?.remove(),g.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e){let t=this._map,r=t.transform;if(!t.isMoving()){let o=n(r,e);if(Object.keys(o).length>0)return this._internalUpdate=!0,t.jumpTo(o),this._internalUpdate=!1,!0}return!1}_updateSettings(e,t){let r=this._map,s=!1;for(let n of m)if(n in e&&!o(e[n],t[n])){s=!0;let t=r[`set${n[0].toUpperCase()}${n.slice(1)}`];t?.call(r,e[n])}return s}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){let{mapStyle:t=i,styleDiffing:r=!0}=e,o={diff:r};"localIdeographFontFamily"in e&&(o.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(l(t),o)}}_updateStyleComponents({light:e,projection:t,sky:r,terrain:s}){let n=this._map,a=this._styleComponents;n.style._loaded&&(e&&!o(e,a.light)&&(a.light=e,n.setLight(e)),t&&!o(t,a.projection)&&t!==a.projection?.type&&(a.projection="string"==typeof t?{type:t}:t,n.setProjection?.(a.projection)),r&&!o(r,a.sky)&&(a.sky=r,n.setSky(r)),void 0!==s&&!o(s,a.terrain)&&(!s||n.getSource(s.source))&&(a.terrain=s,n.setTerrain(s)))}_updateHandlers(e,t){let r=this._map;for(let s of p){let n=e[s]??!0;o(n,t[s]??!0)||(n?r[s].enable(n):r[s].disable())}}_queryRenderedFeatures(e){let t=this._map,{interactiveLayerIds:r=[]}=this.props;try{return t.queryRenderedFeatures(e,{layers:r.filter(t.getLayer.bind(t))})}catch{return[]}}_updateHover(e){let{props:t}=this;if(t.interactiveLayerIds&&(t.onMouseMove||t.onMouseEnter||t.onMouseLeave)){let t=e.type,r=this._hoveredFeatures?.length>0,o=this._queryRenderedFeatures(e.point),s=o.length>0;!s&&r&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=o,s&&!r&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=t}else this._hoveredFeatures=null}}g.savedMaps=[];let h=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"],x="undefined"!=typeof document?t.useLayoutEffect:t.useEffect,f=t.createContext(null),b=t.forwardRef(function(o,s){let n=(0,t.useContext)(r),[a,l]=(0,t.useState)(null),i=(0,t.useRef)(),{current:d}=(0,t.useRef)({mapLib:null,map:null});(0,t.useEffect)(()=>{let t,r=o.mapLib,s=!0;return Promise.resolve(r||e.A(53102)).then(e=>{if(!s)return;if(!e)throw Error("Invalid mapLib");let r="Map"in e?e:e.default;if(!r.Map)throw Error("Invalid mapLib");!function(e,t){let{RTLTextPlugin:r,maxParallelImageRequests:o,workerCount:s,workerUrl:n}=t;if(r&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()){let{pluginUrl:t,lazy:o=!0}="string"==typeof r?{pluginUrl:r}:r;e.setRTLTextPlugin(t,e=>{e&&console.error(e)},o)}void 0!==o&&e.setMaxParallelImageRequests(o),void 0!==s&&e.setWorkerCount(s),void 0!==n&&e.setWorkerUrl(n)}(r,o),o.reuseMaps&&(t=g.reuse(o,i.current)),t||(t=new g(r.Map,o,i.current)),d.map=function(e){if(!e)return null;let t=e.map,r={getMap:()=>t};for(let e of function(e){let t=new Set,r=e;for(;r;){for(let o of Object.getOwnPropertyNames(r))"_"!==o[0]&&"function"==typeof e[o]&&"fire"!==o&&"setEventedParent"!==o&&t.add(o);r=Object.getPrototypeOf(r)}return Array.from(t)}(t))e in r||h.includes(e)||(r[e]=t[e].bind(t));return r}(t),d.mapLib=r,l(t),n?.onMapMount(d.map,o.id)}).catch(e=>{let{onError:t}=o;t?t({type:"error",target:null,originalEvent:null,error:e}):console.error(e)}),()=>{s=!1,t&&(n?.onMapUnmount(o.id),o.reuseMaps?t.recycle():t.destroy())}},[]),x(()=>{a&&a.setProps(o)}),(0,t.useImperativeHandle)(s,()=>d.map,[a]);let u=(0,t.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...o.style}),[o.style]);return t.createElement("div",{id:o.id,ref:i,style:u},a&&t.createElement(f.Provider,{value:d},t.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},o.children)))});var v=e.i(74080);let y=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function j(e,t){if(!e||!t)return;let r=e.style;for(let e in t){let o=t[e];Number.isFinite(o)&&!y.test(e)?r[e]=`${o}px`:r[e]=o}}function w(e,t){if(e===t)return null;let r=N(e),o=N(t),s=[];for(let e of o)r.has(e)||s.push(e);for(let e of r)o.has(e)||s.push(e);return 0===s.length?null:s}function N(e){return new Set(e?e.trim().split(/\s+/):[])}let k=(0,t.memo)((0,t.forwardRef)((e,r)=>{var o;let s,n,a,l,{map:i,mapLib:d}=(0,t.useContext)(f),u=(0,t.useRef)({props:e}),c=(0,t.useMemo)(()=>{let r=!1;t.Children.forEach(e.children,e=>{e&&(r=!0)});let o={...e,element:r?document.createElement("div"):void 0},s=new d.Marker(o);return s.setLngLat([e.longitude,e.latitude]),s.getElement().addEventListener("click",e=>{u.current.props.onClick?.({type:"click",target:s,originalEvent:e})}),s.on("dragstart",e=>{e.lngLat=c.getLngLat(),u.current.props.onDragStart?.(e)}),s.on("drag",e=>{e.lngLat=c.getLngLat(),u.current.props.onDrag?.(e)}),s.on("dragend",e=>{e.lngLat=c.getLngLat(),u.current.props.onDragEnd?.(e)}),s},[]);(0,t.useEffect)(()=>(c.addTo(i.getMap()),()=>{c.remove()}),[]);let{longitude:m,latitude:p,offset:g,style:h,draggable:x=!1,popup:b=null,rotation:y=0,rotationAlignment:N="auto",pitchAlignment:k="auto"}=e;(0,t.useEffect)(()=>{j(c.getElement(),h)},[h]),(0,t.useImperativeHandle)(r,()=>c,[]);let C=u.current.props;(c.getLngLat().lng!==m||c.getLngLat().lat!==p)&&c.setLngLat([m,p]),g&&(o=c.getOffset(),s=Array.isArray(o)?o[0]:o?o.x:0,n=Array.isArray(o)?o[1]:o?o.y:0,a=Array.isArray(g)?g[0]:g?g.x:0,l=Array.isArray(g)?g[1]:g?g.y:0,s!==a||n!==l)&&c.setOffset(g),c.isDraggable()!==x&&c.setDraggable(x),c.getRotation()!==y&&c.setRotation(y),c.getRotationAlignment()!==N&&c.setRotationAlignment(N),c.getPitchAlignment()!==k&&c.setPitchAlignment(k),c.getPopup()!==b&&c.setPopup(b);let M=w(C.className,e.className);if(M)for(let e of M)c.toggleClassName(e);return u.current.props=e,(0,v.createPortal)(e.children,c.getElement())})),C=(0,t.memo)((0,t.forwardRef)((e,r)=>{let{map:s,mapLib:n}=(0,t.useContext)(f),a=(0,t.useMemo)(()=>document.createElement("div"),[]),l=(0,t.useRef)({props:e}),i=(0,t.useMemo)(()=>{let t={...e},r=new n.Popup(t);return r.setLngLat([e.longitude,e.latitude]),r.once("open",e=>{l.current.props.onOpen?.(e)}),r},[]);if((0,t.useEffect)(()=>{let e=e=>{l.current.props.onClose?.(e)};return i.on("close",e),i.setDOMContent(a).addTo(s.getMap()),()=>{i.off("close",e),i.isOpen()&&i.remove()}},[]),(0,t.useEffect)(()=>{j(i.getElement(),e.style)},[e.style]),(0,t.useImperativeHandle)(r,()=>i,[]),i.isOpen()){let t=l.current.props;(i.getLngLat().lng!==e.longitude||i.getLngLat().lat!==e.latitude)&&i.setLngLat([e.longitude,e.latitude]),e.offset&&!o(t.offset,e.offset)&&i.setOffset(e.offset),(t.anchor!==e.anchor||t.maxWidth!==e.maxWidth)&&(i.options.anchor=e.anchor,i.setMaxWidth(e.maxWidth));let r=w(t.className,e.className);if(r)for(let e of r)i.toggleClassName(e);l.current.props=e}return(0,v.createPortal)(e.children,a)}));function M(e,r,o,s){let n=(0,t.useContext)(f),a=(0,t.useMemo)(()=>e(n),[]);return(0,t.useEffect)(()=>{let e="function"==typeof r&&"function"==typeof o?r:null,t="function"==typeof o?o:"function"==typeof r?r:null,{map:l}=n;return!l.hasControl(a)&&(l.addControl(a,(s||o||r)?.position),e&&e(n)),()=>{t&&t(n),l.hasControl(a)&&l.removeControl(a)}},[]),a}(0,t.memo)(function(e){let r=M(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,t.useEffect)(()=>{j(r._container,e.style)},[e.style]),null});let S=(0,t.memo)(function(e){let r=M(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,t.useEffect)(()=>{j(r._controlContainer,e.style)},[e.style]),null});(0,t.memo)((0,t.forwardRef)(function(e,r){let o=(0,t.useRef)({props:e}),s=M(({mapLib:t})=>{let r=new t.GeolocateControl(e),s=r._setupUI;return r._setupUI=()=>{r._container.hasChildNodes()||s()},r.on("geolocate",e=>{o.current.props.onGeolocate?.(e)}),r.on("error",e=>{o.current.props.onError?.(e)}),r.on("outofmaxbounds",e=>{o.current.props.onOutOfMaxBounds?.(e)}),r.on("trackuserlocationstart",e=>{o.current.props.onTrackUserLocationStart?.(e)}),r.on("trackuserlocationend",e=>{o.current.props.onTrackUserLocationEnd?.(e)}),r},{position:e.position});return o.current.props=e,(0,t.useImperativeHandle)(r,()=>s,[]),(0,t.useEffect)(()=>{j(s._container,e.style)},[e.style]),null}));let _=(0,t.memo)(function(e){let r=M(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,t.useEffect)(()=>{j(r._container,e.style)},[e.style]),null});function L(e,t){if(!e)throw Error(t)}(0,t.memo)(function(e){let r=M(({mapLib:t})=>new t.ScaleControl(e),{position:e.position}),o=(0,t.useRef)(e),s=o.current;o.current=e;let{style:n}=e;return void 0!==e.maxWidth&&e.maxWidth!==s.maxWidth&&(r.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==s.unit&&r.setUnit(e.unit),(0,t.useEffect)(()=>{j(r._container,n)},[n]),null}),(0,t.memo)(function(e){let r=M(({mapLib:t})=>new t.TerrainControl(e),{position:e.position});return(0,t.useEffect)(()=>{j(r._container,e.style)},[e.style]),null}),(0,t.memo)(function(e){let r=M(({mapLib:t})=>new t.LogoControl(e),{position:e.position});return(0,t.useEffect)(()=>{j(r._container,e.style)},[e.style]),null});let E=0;function P(e){let r=(0,t.useContext)(f).map.getMap(),s=(0,t.useRef)(e),[,n]=(0,t.useState)(0),a=(0,t.useMemo)(()=>e.id||`jsx-source-${E++}`,[]);(0,t.useEffect)(()=>{if(r){let e=()=>setTimeout(()=>n(e=>e+1),0);return r.on("styledata",e),e(),()=>{if(r.off("styledata",e),r.style&&r.style._loaded&&r.getSource(a)){let e=r.getStyle()?.layers;if(e)for(let t of e)t.source===a&&r.removeLayer(t.id);r.removeSource(a)}}}},[r]);let l=r&&r.style&&r.getSource(a);return l?!function(e,t,r){L(t.id===r.id,"source id changed"),L(t.type===r.type,"source type changed");let s="",n=0;for(let e in t)"children"!==e&&"id"!==e&&!o(r[e],t[e])&&(s=e,n++);if(!n)return;let a=t.type;if("geojson"===a)e.setData(t.data);else if("image"===a)e.updateImage({url:t.url,coordinates:t.coordinates});else switch(s){case"coordinates":e.setCoordinates?.(t.coordinates);break;case"url":e.setUrl?.(t.url);break;case"tiles":e.setTiles?.(t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${s}`)}}(l,e,s.current):l=function(e,t,r){if(e.style&&e.style._loaded){let o={...r};return delete o.id,delete o.children,e.addSource(t,o),e.getSource(t)}return null}(r,a,e),s.current=e,l&&t.Children.map(e.children,e=>e&&(0,t.cloneElement)(e,{source:a}))||null}let R=0;function z(e){let r=(0,t.useContext)(f).map.getMap(),s=(0,t.useRef)(e),[,n]=(0,t.useState)(0),a=(0,t.useMemo)(()=>e.id||`jsx-layer-${R++}`,[]);if((0,t.useEffect)(()=>{if(r){let e=()=>n(e=>e+1);return r.on("styledata",e),e(),()=>{r.off("styledata",e),r.style&&r.style._loaded&&r.getLayer(a)&&r.removeLayer(a)}}},[r]),r&&r.style&&r.getLayer(a))try{!function(e,t,r,s){if(L(r.id===s.id,"layer id changed"),L(r.type===s.type,"layer type changed"),"custom"===r.type||"custom"===s.type)return;let{layout:n={},paint:a={},filter:l,minzoom:i,maxzoom:d,beforeId:u}=r;if(u!==s.beforeId&&e.moveLayer(t,u),n!==s.layout){let r=s.layout||{};for(let s in n)o(n[s],r[s])||e.setLayoutProperty(t,s,n[s]);for(let o in r)n.hasOwnProperty(o)||e.setLayoutProperty(t,o,void 0)}if(a!==s.paint){let r=s.paint||{};for(let s in a)o(a[s],r[s])||e.setPaintProperty(t,s,a[s]);for(let o in r)a.hasOwnProperty(o)||e.setPaintProperty(t,o,void 0)}o(l,s.filter)||e.setFilter(t,l),(i!==s.minzoom||d!==s.maxzoom)&&e.setLayerZoomRange(t,i,d)}(r,a,e,s.current)}catch(e){console.warn(e)}else if(r.style&&r.style._loaded&&(!("source"in e)||r.getSource(e.source))){let t={...e,id:a};delete t.beforeId,r.addLayer(t,e.beforeId)}return s.current=e,null}e.s([],72877),e.s([],30233),e.s([],37838),e.s([],89918),e.s(["default",0,b],17662),e.s([],62805),e.s(["default",0,b],53817),e.i(17662),e.i(72877),e.i(30233),e.i(37838),e.i(89918),e.s(["FullscreenControl",0,S,"Layer",()=>z,"Marker",0,k,"NavigationControl",0,_,"Popup",0,C,"Source",()=>P],22642)},77972,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566),s=e.i(38938),n=e.i(48654),a=e.i(85229);e.i(62805);var l=e.i(53817),i=e.i(22642);function d({item:e}){let o=(0,r.useRef)(null),s=(0,r.useMemo)(()=>({longitude:e.longitude,latitude:e.latitude,zoom:17,pitch:50,bearing:-10}),[e]),[n,a]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:`relative w-full h-full rounded-xl overflow-hidden shadow-lg border border-slate-200 transition-all duration-500 ${n?"fixed inset-0 z-50 rounded-none":"min-h-[300px]"}`,children:[(0,t.jsxs)(l.default,{ref:o,initialViewState:s,style:{width:"100%",height:"100%"},mapStyle:"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",attributionControl:!1,children:[(0,t.jsx)(i.NavigationControl,{position:"top-right"}),(0,t.jsx)(i.FullscreenControl,{position:"top-right"}),(0,t.jsx)(i.Marker,{longitude:e.longitude,latitude:e.latitude,anchor:"bottom",children:(0,t.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,t.jsx)("div",{className:`absolute -inset-4 rounded-full opacity-30 animate-ping ${"Rusak"===e.statusMesin?"bg-red-500":"Maintenance"===e.statusMesin?"bg-orange-500":"bg-emerald-500"}`}),(0,t.jsx)("div",{className:`relative w-10 h-10 rounded-full border-4 border-white shadow-xl flex items-center justify-center transform transition-transform group-hover:scale-110 ${"Rusak"===e.statusMesin?"bg-red-500":"Maintenance"===e.statusMesin?"bg-orange-500":"bg-emerald-500"}`,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-white",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0.5 h-6 bg-slate-400/60"}),(0,t.jsx)("div",{className:"absolute top-[calc(100%+24px)] left-1/2 -translate-x-1/2 w-4 h-2 bg-black/20 rounded-full blur-[2px]"}),(0,t.jsx)("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-white px-3 py-1 rounded-lg text-xs font-bold text-slate-700 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:e.name})]})})]}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 right-14 bg-white/90 backdrop-blur-md p-3 rounded-xl border border-white/40 shadow-lg text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("div",{className:"bg-slate-100 p-1 rounded-md text-slate-500",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.625a19.055 19.055 0 005.335 2.308z",clipRule:"evenodd"})})}),(0,t.jsx)("span",{className:"font-semibold text-slate-700 line-clamp-1",children:e.location||"Lokasi tidak diketahui"})]}),(0,t.jsxs)("div",{className:"flex gap-2 text-[10px] text-slate-500 font-mono pl-6",children:[(0,t.jsx)("span",{children:e.latitude.toFixed(6)}),(0,t.jsx)("span",{children:e.longitude.toFixed(6)})]})]})]})}function u({src:e,onClose:r}){return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm animate-in fade-in duration-200",onClick:r,children:[(0,t.jsx)("img",{src:e,alt:"Zoom Foto",className:"max-w-[95vw] max-h-[95vh] rounded-xl shadow-2xl border-2 border-white/20",onClick:e=>e.stopPropagation()}),(0,t.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-white hover:text-gray-300 bg-white/10 hover:bg-white/20 p-2 rounded-full transition-all",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]})}function c({item:e}){var n;let l,i=(0,o.useRouter)(),{updateItem:c,users:m}=(0,s.useAuth)(),[p,g]=(0,r.useState)(!1),[h,x]=(0,r.useState)(null);return p?(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-slate-800 to-slate-600",children:["Edit ",e.name]}),(0,t.jsx)("p",{className:"text-slate-500",children:"Perbarui informasi item ini."})]}),(0,t.jsxs)("button",{onClick:()=>g(!1),className:"bg-white border border-slate-200 text-slate-700 px-4 py-2 rounded-xl hover:bg-slate-50 transition-all font-semibold flex items-center gap-2 shadow-sm",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:[(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z",clipRule:"evenodd"}),(0,t.jsx)("path",{d:"M4.25 4.25a.75.75 0 00-1.06 1.06L10 10.61l6.81-5.32a.75.75 0 10-1.06-1.06L10 8.49 4.25 4.25z"})," ",(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"})]}),"Batal Edit"]})]}),(0,t.jsx)(a.default,{editingItem:e,onUpdate:(e,t)=>{c(e,t),g(!1)},onClose:()=>g(!1)})]}):(0,t.jsxs)("div",{className:"max-w-full mx-auto space-y-4 pb-12",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white/50 backdrop-blur-xl border border-white/20 p-4 rounded-2xl sticky top-20 z-30 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>i.back(),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",title:"Kembali",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-800 tracking-tight leading-none",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm text-slate-500 font-mono",children:[(0,t.jsx)("span",{children:e.assetId||"NO ID"}),(0,t.jsx)("span",{className:"text-slate-300",children:"â€¢"}),(0,t.jsx)("span",{children:e.category})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ring-1 ring-inset ${(e=>{switch(e){case"Normal":return"bg-emerald-50 text-emerald-600 border-emerald-100 ring-emerald-500/20";case"Maintenance":return"bg-orange-50 text-orange-600 border-orange-100 ring-orange-500/20";case"Rusak":return"bg-red-50 text-red-600 border-red-100 ring-red-500/20";case"Standby":return"bg-blue-50 text-blue-600 border-blue-100 ring-blue-500/20";default:return"bg-slate-50 text-slate-600 border-slate-100 ring-slate-500/20"}})(e.statusMesin)}`,children:e.statusMesin||"Unknown"}),(0,t.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-2 rounded-xl hover:bg-slate-800 hover:shadow-lg transition-all font-semibold active:scale-95 text-sm",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[(0,t.jsx)("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),(0,t.jsx)("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]}),"Edit Item"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,t.jsxs)("div",{className:"col-span-12 lg:col-span-3 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100",children:[(0,t.jsxs)("div",{className:"aspect-square bg-slate-50 rounded-xl overflow-hidden mb-3 relative group",children:[e.photos&&e.photos.length>0?(0,t.jsx)("img",{src:e.photos[0],className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 cursor-pointer",onClick:()=>x(e.photos[0]),alt:"Main Item Photo"}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-slate-300",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})}),e.photos&&e.photos.length>0&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:(0,t.jsx)("span",{className:"bg-black/60 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm",children:"Klik untuk zoom"})})]}),e.photos&&e.photos.length>1&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:e.photos.slice(1,5).map((e,r)=>(0,t.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-indigo-500 transition-all",onClick:()=>x(e),children:(0,t.jsx)("img",{src:e,className:"w-full h-full object-cover",alt:`Gallery ${r}`})},r))})]}),(0,t.jsx)("div",{className:"bg-slate-900 text-white p-5 rounded-2xl shadow-xl shadow-slate-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"text-xs text-slate-300 uppercase tracking-wider font-bold mb-1",children:"Kuantitas"}),(0,t.jsx)("div",{className:"text-2xl font-black",children:e.quantity}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400",children:"Unit tersedia"})]}),(0,t.jsxs)("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"text-xs text-slate-300 uppercase tracking-wider font-bold mb-1",children:"Total Jam"}),(0,t.jsx)("div",{className:"text-1xl font-black truncate",children:e.jamOperasional||"0"}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400",children:"Jam Operasi"})]})]})})]}),(0,t.jsxs)("div",{className:"col-span-12 lg:col-span-5 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-50 bg-slate-50/50 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-800",children:"Spesifikasi Teknis"}),(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-400 bg-white border border-slate-200 px-2 py-1 rounded-md",children:"Detail Aset"})]}),(0,t.jsx)("div",{className:"p-0",children:(0,t.jsx)("table",{className:"w-full text-sm text-left",children:(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:[{l:"Nama Mesin",v:e.machineName},{l:"Brand / Merk",v:e.brand},{l:"Model / Tipe",v:e.model},{l:"Serial Number",v:e.serialNumber,mono:!0},{l:"Asset Tag",v:e.assetTag,mono:!0},{l:"Tahun Perolehan",v:e.acquisitionYear||"-"}].map((e,r)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-3.5 text-slate-500 font-medium w-1/3",children:e.l}),(0,t.jsx)("td",{className:`px-6 py-3.5 text-slate-800 font-semibold ${e.mono?"font-mono text-xs":""}`,children:e.v||"-"})]},r))})})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-50 bg-slate-50/50 flex items-center justify-between",children:(0,t.jsx)("h3",{className:"font-bold text-slate-800",children:"Kondisi & Status"})}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-2 gap-y-6 gap-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase mb-1.5",children:"Priotitas"}),(0,t.jsx)("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold border ${(e=>{switch(e){case"Critical":return"text-red-600 bg-red-50 border-red-100";case"High":return"text-orange-600 bg-orange-50 border-orange-100";case"Medium":return"text-yellow-600 bg-yellow-50 border-yellow-100";case"Low":return"text-emerald-600 bg-emerald-50 border-emerald-100";default:return"text-slate-600 bg-slate-50 border-slate-100"}})(e.tingkatPrioritas)}`,children:e.tingkatPrioritas||"Unset"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase mb-1.5",children:"Kondisi Fisik"}),(0,t.jsxs)("div",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${"Bagus"===e.kondisiFisik?"bg-emerald-500":"Sedang"===e.kondisiFisik?"bg-yellow-500":"bg-red-500"}`}),e.kondisiFisik||"-"]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase mb-1.5",children:"Deskripsi / Catatan"}),(0,t.jsx)("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-xl border border-slate-100 min-h-[80px]",children:e.description||"Tidak ada deskripsi tambahan."})]})]})]})]}),(0,t.jsxs)("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:[(0,t.jsx)("div",{className:"bg-white p-1.5 rounded-2xl shadow-sm border border-slate-100 h-[320px] lg:h-[400px]",children:(0,t.jsx)(d,{item:e})}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-5 py-3 border-b border-slate-50 bg-slate-50/50",children:(0,t.jsx)("h3",{className:"font-bold text-slate-800 text-sm",children:"Informasi Penyimpanan"})}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"bg-indigo-50 text-indigo-600 p-2 rounded-lg",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.625a19.055 19.055 0 005.335 2.308z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Lokasi Saat Ini"}),(0,t.jsx)("div",{className:"font-semibold text-slate-800",children:e.location})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-50 pt-3 flex items-start gap-3",children:[(0,t.jsx)("div",{className:"bg-slate-100 text-slate-500 p-2 rounded-lg",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("div",{className:"text-xs text-slate-400 font-bold uppercase",children:"Terakhir Diupdate"}),(0,t.jsx)("div",{className:"text-[10px] text-slate-400",children:new Date(e.updatedAt).toLocaleTimeString()})]}),(0,t.jsx)("div",{className:"font-semibold text-slate-800 text-sm",children:new Date(e.updatedAt).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,t.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Oleh: ",(0,t.jsx)("span",{className:"font-medium text-indigo-600",children:(n=e.createdBy,l=m.find(e=>e.id===n),l?.name||"Tidak diketahui")})]})]})]})]})]})]})]}),h&&(0,t.jsx)(u,{src:h,onClose:()=>x(null)})]})}function m(){let{user:e,isLoading:a,items:l}=(0,s.useAuth)(),i=(0,o.useRouter)(),d=(0,o.useParams)(),[u,m]=(0,r.useState)(null);return((0,r.useEffect)(()=>{a||e?l&&d.id&&m(l.find(e=>e.id===d.id)):i.push("/")},[e,a,i,l,d.id]),a||!e)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background"}):u?(0,t.jsx)(n.default,{children:(0,t.jsx)(c,{item:u})}):(0,t.jsx)(n.default,{children:(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Item tidak ditemukan"})})})}e.s(["default",()=>m],77972)},53102,e=>{e.v(t=>Promise.all(["static/chunks/e7a732b8d9c1cc0d.js"].map(t=>e.l(t))).then(()=>t(15850)))}]);