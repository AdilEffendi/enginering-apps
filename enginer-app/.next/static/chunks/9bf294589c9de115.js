(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22551,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),o=e.i(38938),n=e.i(48654);function a(){let{users:e,addUser:t,deleteUser:n}=(0,o.useAuth)(),[a,d]=(0,s.useState)(!1),[l,i]=(0,s.useState)({name:"",password:"",role:"user"});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Manajemen Pengguna"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Total ",e.length," pengguna terdaftar"]})]}),(0,r.jsx)("button",{onClick:()=>d(!a),className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-semibold",children:a?"Tutup Form":"Tambah Pengguna"})]}),a&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-border",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Tambah Pengguna Baru"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({name:l.name,password:l.password,role:l.role}),i({name:"",password:"",role:"user"}),d(!1)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Nama Pengguna"}),(0,r.jsx)("input",{type:"text",value:l.name,onChange:e=>i({...l,name:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Kata Sandi"}),(0,r.jsx)("input",{type:"password",value:l.password,onChange:e=>i({...l,password:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Role"}),(0,r.jsxs)("select",{value:l.role,onChange:e=>i({...l,role:e.target.value}),className:"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"user",children:"User"}),(0,r.jsx)("option",{value:"admin",children:"Admin"}),(0,r.jsx)("option",{value:"superadmin",children:"Superadmin"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)("button",{type:"submit",className:"flex-1 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors font-semibold",children:"Tambah Pengguna"}),(0,r.jsx)("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-muted text-foreground py-2 rounded-lg hover:bg-muted/80 transition-colors font-semibold",children:"Batal"})]})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-border overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-muted border-b border-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Nama Pengguna"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Role"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Bergabung"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Aksi"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-border",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-muted/50 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-foreground",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold bg-primary/10 text-primary",children:e.role})}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("id-ID")}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{onClick:()=>{confirm("Yakin ingin menghapus pengguna ini?")&&n(e.id)},className:"text-red-600 hover:text-red-700 transition-colors font-semibold text-sm",children:"Hapus"})})]},e.id))})]})})})]})}function d(){let{user:e,isLoading:d}=(0,o.useAuth)(),l=(0,t.useRouter)();return((0,s.useEffect)(()=>{d||e?e&&"admin"!==e.role&&"superadmin"!==e.role&&l.push("/dashboard"):l.push("/")},[e,d,l]),d||!e)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background"}):(0,r.jsx)(n.default,{children:(0,r.jsx)(a,{})})}e.s(["default",()=>d],22551)}]);