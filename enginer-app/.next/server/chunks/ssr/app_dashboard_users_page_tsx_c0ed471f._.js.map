{"version":3,"sources":["../../../../app/dashboard/users/page.tsx","../../../../components/users-management.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/context/auth-context\"\nimport DashboardLayout from \"@/components/dashboard-layout\"\nimport UsersManagement from \"@/components/users-management\"\n\nexport default function UsersPage() {\n  const { user, isLoading } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading && !user) {\n      router.push(\"/\")\n      return\n    }\n\n    if (user && user.role !== \"admin\" && user.role !== \"superadmin\") {\n      router.push(\"/dashboard\")\n    }\n  }, [user, isLoading, router])\n\n  if (isLoading || !user) {\n    return <div className=\"flex items-center justify-center min-h-screen bg-background\" />\n  }\n\n  return (\n    <DashboardLayout>\n      <UsersManagement />\n    </DashboardLayout>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { useAuth } from \"@/context/auth-context\"\n\nexport default function UsersManagement() {\n  const { users, addUser, deleteUser } = useAuth()\n  const [showForm, setShowForm] = useState(false)\n  const [formData, setFormData] = useState({\n    name: \"\",\n    password: \"\",\n    role: \"user\" as \"admin\" | \"user\" | \"superadmin\",\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    addUser({\n      name: formData.name,\n      password: formData.password,\n      role: formData.role,\n    })\n    setFormData({ name: \"\", password: \"\", role: \"user\" })\n    setShowForm(false)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Manajemen Pengguna</h1>\n          <p className=\"text-muted-foreground\">Total {users.length} pengguna terdaftar</p>\n        </div>\n        <button\n          onClick={() => setShowForm(!showForm)}\n          className=\"bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-semibold\"\n        >\n          {showForm ? \"Tutup Form\" : \"Tambah Pengguna\"}\n        </button>\n      </div>\n\n      {showForm && (\n        <div className=\"bg-white rounded-xl shadow-lg p-6 border border-border\">\n          <h3 className=\"text-xl font-bold text-foreground mb-6\">Tambah Pengguna Baru</h3>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-1\">Nama Pengguna</label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className=\"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-1\">Kata Sandi</label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  className=\"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-1\">Role</label>\n                <select\n                  value={formData.role}\n                  onChange={(e) => setFormData({ ...formData, role: e.target.value as any })}\n                  className=\"w-full px-4 py-2 rounded-lg border border-border bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  <option value=\"user\">User</option>\n                  <option value=\"admin\">Admin</option>\n                  <option value=\"superadmin\">Superadmin</option>\n                </select>\n              </div>\n            </div>\n\n            <div className=\"flex gap-3 pt-4\">\n              <button\n                type=\"submit\"\n                className=\"flex-1 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors font-semibold\"\n              >\n                Tambah Pengguna\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setShowForm(false)}\n                className=\"flex-1 bg-muted text-foreground py-2 rounded-lg hover:bg-muted/80 transition-colors font-semibold\"\n              >\n                Batal\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-xl shadow-lg border border-border overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-muted border-b border-border\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Nama Pengguna</th>\n                <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Role</th>\n                <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Bergabung</th>\n                <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Aksi</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-border\">\n              {users.map((user) => (\n                <tr key={user.id} className=\"hover:bg-muted/50 transition-colors\">\n                  <td className=\"px-6 py-4 text-sm text-foreground\">{user.name}</td>\n                  <td className=\"px-6 py-4\">\n                    <span className=\"inline-block px-3 py-1 rounded-full text-xs font-semibold bg-primary/10 text-primary\">\n                      {user.role}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-muted-foreground\">\n                    {new Date(user.createdAt).toLocaleDateString(\"id-ID\")}\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <button\n                      onClick={() => {\n                        if (confirm(\"Yakin ingin menghapus pengguna ini?\")) {\n                          deleteUser(user.id)\n                        }\n                      }}\n                      className=\"text-red-600 hover:text-red-700 transition-colors font-semibold text-sm\"\n                    >\n                      Hapus\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}